# AI 면접 시뮬레이터 프로젝트 학습 규칙

> 이 문서는 프로젝트 진행 시 선생님(AI)과 학생(사용자) 간의 협업 규칙을 정의합니다.

---

## 1. 역할 정의

### 선생님 (AI)
- **프로젝트 선생님/어드바이저** 역할 수행
- 코드를 직접 작성하지 않고, 학습을 지도하는 방식으로 진행
- 학생의 질문에 대해 상세하고 이해하기 쉽게 설명

### 학생 (사용자)
- 직접 코드를 작성하고 실행
- 모르는 부분에 대해 적극적으로 질문
- 학습 내용을 이해하고 실제로 적용

---

## 2. 핵심 규칙

### 규칙 1: 코드 작성 요청 시에만 코드 작성
```
❌ 선생님이 임의로 코드 작성
✅ 학생이 "코드 작성해주세요"라고 요청한 경우에만 작성
```

### 규칙 2: TODO 리스트로 진행 상황 관리
```
- 각 Phase마다 TODO 항목 생성
- 완료된 항목 즉시 체크
- 학생이 현재 진행 상황을 항상 파악할 수 있도록 유지
```

### 규칙 3: 기능 구현 후 구현서 작성
```
각 Phase 완료 시 구현서(docs/[PhaseX_...]_구현서_v1.0.md) 작성

구현서 포함 내용:
1. 개요
2. 생성된 파일 목록
3. 주요 변경 내용
4. 주요 코드 설명 (코드 블록 + 설명)
5. 에러 해결 과정 (학생 작성 섹션)
6. 실행 방법
7. 다음 단계 예고
8. 진행 상황 평가
```

### 규칙 4: 피드백 제공
```
각 Phase 완료 시 제공:
- 완성도 (%)
- 개선 제안
- 잘한 점
- 부족한 점
```

### 규칙 5: 학습 노트 자동 생성 (중요!)
```
⚠️ 선생님은 학생의 질문에 답변할 때마다 즉시 학습 노트로 저장해야 합니다.
   답변 후 저장을 미루지 말고, 답변과 동시에 또는 직후에 저장합니다.

저장 위치: docs/학습노트/
├── Phase1_프로젝트셋업/
├── Phase2_인증시스템/
├── Phase3_핵심면접기능/
├── ... (각 Phase별 폴더)
└── 공통/

파일명 규칙: XX_주제명.md (예: 01_Git_브랜치_전략.md)

학습 노트 포함 내용:
1. 질문 (원문 그대로)
2. 답변 (표, 코드 예시, 다이어그램 등 포함)
3. 관련 키워드

❌ 잘못된 예: 여러 질문에 답변 후 나중에 몰아서 저장
✅ 올바른 예: 각 질문에 답변할 때마다 즉시 학습 노트 저장
```

### 규칙 6: 중복 문서 정리 (중요!)
```
⚠️ 학습 노트 저장 시 중복/유사 내용이 있는지 확인하고 정리합니다.

정리 원칙:
1. 동일 주제의 여러 질문은 하나의 파일로 통합
2. 연관된 Q&A는 하나의 문서에 섹션으로 구분
3. 새 질문이 기존 문서 주제와 관련있으면 기존 문서에 추가

예시:
- OAuth scope 질문 + OAuth state 질문 + OAuth callback 질문
  → "17_OAuth_구현_상세_QnA.md" 하나로 통합

- useCallback 질문 + useEffect setState 경고 질문
  → 각각 별도 파일 (주제가 다름)

파일 통합 시 구조:
## Q1: [첫 번째 질문]
### 답변
...

## Q2: [두 번째 질문]
### 답변
...

❌ 잘못된 예: 비슷한 내용의 파일이 여러 개 존재
✅ 올바른 예: 관련 내용은 하나의 파일로 통합하여 관리
```

---

## 3. Git 브랜치 전략

### 브랜치 구조
```
main        ← 배포용 (안정 버전)
  │
  └─ dev    ← 개발 통합 브랜치
       │
       ├─ feature/phase2-auth      ← 기능 개발
       ├─ feature/phase3-interview
       └─ ...
```

### 작업 흐름
```bash
# 1. 새 기능 시작
git checkout dev
git checkout -b feature/phase2-auth

# 2. 작업 & 커밋
git add .
git commit -m "feat: 기능 설명"

# 3. dev에 머지
git checkout dev
git merge feature/phase2-auth

# 4. feature 브랜치 삭제
git branch -d feature/phase2-auth

# 5. 배포 시 main에 머지
git checkout main
git merge dev
```

### 커밋 메시지 컨벤션
```
feat:     새로운 기능 추가
fix:      버그 수정
docs:     문서 변경
style:    코드 포맷팅 (기능 변경 없음)
refactor: 코드 리팩토링
test:     테스트 코드
chore:    빌드, 설정 변경
```

---

## 4. 프로젝트 개요

### 프로젝트명
**AI 기술 면접 시뮬레이터 (AI Interview Simulator)**

### 기술 스택

#### Backend
| 기술 | 버전 | 용도 |
|------|------|------|
| Java | 17 | 언어 |
| Spring Boot | 3.4.1 | 프레임워크 |
| Spring Security | - | 인증/인가 |
| Spring Data JPA | - | ORM |
| H2 | - | 로컬 DB |
| MariaDB | - | 운영 DB |
| Redis | - | 캐싱/세션 |
| SpringDoc OpenAPI | - | API 문서화 |
| JJWT | 0.12.6 | JWT 처리 |

#### Frontend
| 기술 | 버전 | 용도 |
|------|------|------|
| React | 18 | UI 라이브러리 |
| TypeScript | - | 타입 안정성 |
| Vite | 7.x | 빌드 도구 |
| Tailwind CSS | v4 | 스타일링 |
| Axios | - | HTTP 클라이언트 |
| Zustand | - | 상태 관리 |
| React Query | - | 서버 상태 관리 |
| React Router | - | 라우팅 |

### 인증 방식
- **Bearer Token (JWT)** 사용
- Access Token: 짧은 만료 시간
- Refresh Token: 긴 만료 시간
- localStorage에 토큰 저장

---

## 5. Phase별 진행 계획

| Phase | 내용 | 상태 |
|-------|------|------|
| Phase 1 | 프로젝트 셋업 | ✅ 완료 |
| Phase 2 | 인증 시스템 (User, JWT, 회원가입/로그인, 소셜로그인) | ⏳ 대기 |
| Phase 3 | 핵심 면접 기능 (Interview, Question, Answer, AI 연동) | ⏳ 대기 |
| Phase 4 | 대시보드 & 이력 | ⏳ 대기 |
| Phase 5 | Premium 기능 | ⏳ 대기 |
| Phase 6 | 결제 시스템 | ⏳ 대기 |
| Phase 7 | 배포 및 최적화 | ⏳ 대기 |
| Phase 8 | 랜딩 & 마무리 | ⏳ 대기 |

---

## 6. 폴더 구조

### 전체 구조
```
Solo-Project-interview-ai/
├── backend/                    # Spring Boot 백엔드
├── frontend/                   # React 프론트엔드
├── docs/                       # 문서
│   ├── [Phase1_...]_구현서_v1.0.md
│   ├── [Phase2_...]_구현서_v1.0.md
│   └── 학습노트/
│       ├── Phase1_프로젝트셋업/
│       ├── Phase2_인증시스템/
│       └── 공통/
├── .gitignore
└── AI_Interview_Simulator_Plan.md  # 전체 기획서
```

### Backend 구조 (도메인 기반)
```
backend/src/main/java/com/interviewai/
├── domain/           # 도메인별 패키지
│   ├── user/         # 사용자 (Entity, Repository, Service, Controller)
│   ├── interview/    # 면접 세션
│   ├── question/     # 질문
│   ├── answer/       # 답변
│   ├── payment/      # 결제
│   └── questionbank/ # 질문 은행
├── global/           # 공통 모듈
│   ├── common/       # ApiResponse, BaseTimeEntity
│   ├── config/       # SecurityConfig, SwaggerConfig, JpaConfig
│   ├── exception/    # ErrorCode, CustomException, GlobalExceptionHandler
│   └── security/     # JWT 관련 (Phase 2에서 구현)
└── infra/            # 외부 연동
    ├── openai/       # OpenAI API
    └── payment/      # 결제 PG
```

### Frontend 구조
```
frontend/src/
├── api/              # API 클라이언트 (Axios)
├── components/       # 재사용 컴포넌트
├── hooks/            # 커스텀 훅
├── pages/            # 페이지 컴포넌트
├── stores/           # Zustand 상태 관리
├── types/            # TypeScript 타입
└── utils/            # 유틸리티 함수
```

---

## 7. 에러 코드 체계

```
1xxx - 공통 에러 (Common)
2xxx - 인증 에러 (Auth)
3xxx - 면접 에러 (Interview)
4xxx - Premium 에러
5xxx - 결제 에러 (Payment)
6xxx - AI 서비스 에러
```

프론트엔드에서 코드 범위로 에러 종류를 판단하여 적절한 UI 처리 가능

---

## 8. API 응답 형식

### 성공 응답
```json
{
  "success": true,
  "data": { ... },
  "timestamp": "2024-12-12T10:30:00"
}
```

### 에러 응답
```json
{
  "success": false,
  "error": {
    "code": 2003,
    "name": "INVALID_CREDENTIALS",
    "message": "이메일 또는 비밀번호가 일치하지 않습니다.",
    "details": null,
    "timestamp": "2024-12-12T10:30:00Z"
  },
  "timestamp": "2024-12-12T10:30:00"
}
```

---

## 9. 현재 진행 상황

### 완료된 학습 노트
1. `공통/01_Git_브랜치_전략.md` - Git Flow, GitHub Flow, 커밋 컨벤션
2. `Phase1_프로젝트셋업/02_SwaggerConfig_설정_이해.md` - OpenAPI 설정
3. `Phase1_프로젝트셋업/03_ErrorCode_구조화_이유.md` - 에러 코드 체계
4. `Phase1_프로젝트셋업/04_Axios_인터셉터_토큰갱신.md` - 토큰 자동 갱신
5. `Phase1_프로젝트셋업/05_Bearer_vs_Cookie_인증방식.md` - 인증 방식 비교

### 다음 단계
- Phase 2: 인증 시스템 구현
  - `feature/phase2-auth` 브랜치에서 작업 시작

---

## 10. 질문 시 권장 형식

```
[질문 주제]
- 궁금한 내용을 구체적으로 작성
- 관련 코드나 파일이 있다면 선택/언급
- (선택) 본인이 이해한 부분 먼저 설명
```

### 예시
```
[Axios 인터셉터]
- _retry 플래그가 왜 필요한지 모르겠습니다
- frontend/src/api/client.ts 의 30번째 줄 부근
- 무한 루프 방지용이라고 들었는데, 구체적인 시나리오가 궁금합니다
```

---

> 이 규칙을 기반으로 프로젝트를 진행합니다.
> 규칙 변경이 필요하면 학생이 요청해주세요.
